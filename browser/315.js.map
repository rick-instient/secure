{"version":3,"file":"315.js","mappings":"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","sources":["./apps/heatfleet/secure/src/app/pages/payment/payment.component.ts","./apps/heatfleet/secure/src/app/pages/payment/payment.component.html","./node_modules/@paypal/paypal-js/dist/esm/paypal-js.js"],"sourcesContent":["import { Component, NgZone, OnInit, Renderer2 } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { OrderDetailsBarComponent } from '../../shared/components/order-details-bar/order-details-bar.component';\r\nimport { HfButtonComponent, HfCardComponent, HfCheckboxComponent, HfInputComponent, HfModelComponent, HfRadioComponent, HfToastService, inputMsgType } from '@monorepo/ui';\r\nimport { FormControl, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\r\nimport { AppService, StoreService, maxLengthRestriction } from '@monorepo/utils';\r\nimport { CookieHelper } from '../../shared/services/cookie.helper';\r\nimport { environment } from '../../../environments/environment';\r\nimport { ServiceType, PaymentMode } from '../../shared/models/enums';\r\nimport { Router } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrderInvoiceComponent } from '../../shared/components/order-invoice/order-invoice.component';\r\nimport { URLS } from '../../shared/utils/urls';\r\nimport { loadScript } from \"@paypal/paypal-js\";\r\n\r\n@Component({\r\n  selector: 'app-payment',\r\n  standalone: true,\r\n  imports: [CommonModule, ReactiveFormsModule, OrderDetailsBarComponent, HfCardComponent, HfButtonComponent, HfRadioComponent, HfInputComponent, HfCheckboxComponent, OrderInvoiceComponent, HfModelComponent],\r\n  templateUrl: './payment.component.html',\r\n  styleUrl: './payment.component.scss'\r\n})\r\n\r\nexport class PaymentComponent implements OnInit {\r\n\r\n  orderParams: any;\r\n  paymentType: FormControl = new FormControl('');\r\n  showAddressCard: boolean = false;\r\n  paymentMode = PaymentMode;\r\n  cardPaymentInit: boolean = true;\r\n  orderData: object;\r\n  invoiceData: object;\r\n  showTermsModal: boolean = false;\r\n  companyDetails: any;\r\n  cardLoaded: boolean = false;\r\n  paypal: any;\r\n  paymentButtonLabel: string = 'Pay & Confirm';\r\n  isPaymentButtonDisabled: boolean = false;\r\n  paymentTypeLabel: string = 'Credit Card';\r\n  isPaypalLoaded: boolean = false;\r\n  isPayPalAvailable: boolean = true;\r\n\r\n  billingForm = new FormGroup({\r\n    isBillingAdressSame: new FormControl(true),\r\n    billingAdress: new FormControl('', [Validators.required, Validators.minLength(3)]),\r\n    billingCity: new FormControl('', [Validators.required]),\r\n    billingState: new FormControl('', [Validators.required]),\r\n    billingZip: new FormControl('', [Validators.required, Validators.minLength(5), maxLengthRestriction(5)]),\r\n  });\r\n\r\n  paymentForm = new FormGroup({\r\n    cardHolderName: new FormControl('', [Validators.required]),\r\n  });\r\n\r\n  get isBillingAdressSame() {\r\n    return this.billingForm.get('isBillingAdressSame') as FormControl;\r\n  }\r\n\r\n  get billingAdress() {\r\n    return this.billingForm.get('billingAdress') as FormControl;\r\n  }\r\n\r\n  get billingCity() {\r\n    return this.billingForm.get('billingCity') as FormControl;\r\n  }\r\n\r\n  get billingState() {\r\n    return this.billingForm.get('billingState') as FormControl;\r\n  }\r\n\r\n  get billingZip() {\r\n    return this.billingForm.get('billingZip') as FormControl;\r\n  }\r\n\r\n  get cardHolderName() {\r\n    return this.paymentForm.get('cardHolderName') as FormControl;\r\n  }\r\n\r\n  cardNumberIM: string = 'Invalid Card Number';\r\n  cardNumberMT: inputMsgType = '';\r\n  cardExpireyIM: string = 'Invalid Expiry Date';\r\n  cardExpireyMT: inputMsgType = '';\r\n  cardCvvIM: string = 'Invalid CVV';\r\n  cardCvvMT: inputMsgType = '';\r\n  cardHolderNameIM: string = 'Invalid Card Holder Name';\r\n  cardHolderNameMT: inputMsgType = '';\r\n  billingAdressIM: string = '';\r\n  billingAdressMT: inputMsgType = '';\r\n  billingCityIM: string = '';\r\n  billingCityMT: inputMsgType = '';\r\n  billingStateIM: string = '';\r\n  billingStateMT: inputMsgType = '';\r\n  billingZipIM: string = '';\r\n  billingZipMT: inputMsgType = '';\r\n  orderSummaryData: any;\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private storeService: StoreService,\r\n    private cookieHelper: CookieHelper,\r\n    private renderer: Renderer2,\r\n    private router: Router,\r\n    private toastService: HfToastService,\r\n    public appService: AppService,\r\n    private zone: NgZone\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (this.appService.isBrowserRendering) {\r\n      this.selectPaymentType();\r\n    }\r\n    this.openBillingAdress();\r\n  }\r\n\r\n  selectPaymentType() {\r\n    this.storeService.getValueFromStore('orderParams', (orderParams) => {\r\n      this.orderParams = orderParams;\r\n      if (this.orderParams['mode'] == this.paymentMode.CASH) {\r\n        this.paymentTypeLabel = 'Cash On Delivery';\r\n        this.paymentType.setValue('cash');\r\n      } else if (this.orderParams['mode'] == this.paymentMode.PAYPAL) {\r\n        this.paymentTypeLabel = 'PayPal';\r\n        this.paymentType.setValue('paypal');\r\n      } else {\r\n        this.paymentTypeLabel = 'Credit Card';\r\n        this.paymentType.setValue('card');\r\n      }\r\n      this.callSummaryApi();\r\n    });\r\n  }\r\n\r\n  callSummaryApi() {\r\n    let body = {\r\n      isZipChanged: false,\r\n      isMultipleFips: false,\r\n      isDealAvailable: true,\r\n      isFlashSale: false,\r\n      isFlatDeliveryFee: this.orderParams['isFlatFee'],\r\n      flatDeliveryFee: this.orderParams['flatFee'],\r\n      isFuelAdditive: this.orderParams['fuel-additive'],\r\n      serviceName: '',\r\n      companyId: this.orderParams['companyId'],\r\n      companyName: this.orderParams['name'],\r\n      price: this.orderParams['price'],\r\n      customerType: 0,\r\n      deliveryDay: this.orderParams['dayId'],\r\n      isTermsAccepted: false,\r\n      isUpsale: false,\r\n      orderType: ServiceType.OilDelivery,\r\n      payWithCash: this.orderParams['mode'] == this.paymentMode.CASH ? true : false,\r\n      serviceId: -1,\r\n      tankSize: 275,\r\n      userId: parseInt(this.cookieHelper.getUserID()),\r\n      zipCode: this.orderParams['zipCode'],\r\n      city: this.orderParams['city'],\r\n      county: this.orderParams['county'],\r\n      fipsCode: this.orderParams['fips'],\r\n      state: this.orderParams['state'],\r\n      amount: parseInt(this.orderParams['quantity']),\r\n      token: '',\r\n      heatFleetFlashSaleId: this.orderParams['heatFleetFlashSaleId'],\r\n      deliveryId: parseInt(this.orderParams['addressId']),\r\n      SupportUserName: null,\r\n      CallCompanyId: null,\r\n      ReferredBy: null,\r\n      isCompanyWebsiteUrl: null\r\n    }\r\n\r\n    const url = `${environment.api_url}customer/order/summary`;\r\n    this.http.post(url, body).subscribe({\r\n      next: (response) => {\r\n        this.orderSummaryData = response;\r\n        this.orderData = response;\r\n        this.invoiceData = response['oilOrderParameters']['placedOrder'];\r\n        if (this.orderParams['mode'] == this.paymentMode.CREDIT) {\r\n          this.addCollectionJS('https://secure.networkmerchants.com/token/Collect.js', () => {\r\n            this.configureCollectionJs();\r\n            this.cardPaymentInit = false;\r\n          });\r\n        } else if (this.orderParams['mode'] == this.paymentMode.PAYPAL) {\r\n          this.payPalInit();\r\n        }\r\n      },\r\n      error: (error) => {\r\n        console.log(error);\r\n      }\r\n    });\r\n  }\r\n\r\n  async payPalInit() {\r\n    try {\r\n      this.paypal = await loadScript({ clientId: environment.paypal_client_id, currency: 'USD', components: [\"buttons\", \"marks\", \"messages\"] });\r\n      this.zone.run(() => {\r\n        this.isPaypalLoaded = true;\r\n      })\r\n      this.paypal.Buttons(\r\n        {\r\n          fundingSource: this.paypal.FUNDING.PAYLATER,\r\n          createOrder: (data: any, actions: any) => {\r\n            return actions.order.create({\r\n              purchase_units: [\r\n                {\r\n                  amount: {\r\n                    value: this.orderSummaryData['price'].toFixed(2),\r\n                  },\r\n                },\r\n              ],\r\n            });\r\n          },\r\n          onApprove: (data: any, actions: any) => {\r\n            return actions.order.capture().then((details: any) => {\r\n              this.verifyPayment(details, 'paypal');\r\n            });\r\n          },\r\n          onError: (err: any) => {\r\n            console.log(err);\r\n            this.toastService.toastMessage.next({ title: `Payment Failed`, msg: 'Please try another time', type: 'error' });\r\n          }\r\n        }\r\n      ).render(\"#paypal-button\").catch((error: any) => {\r\n        this.isPayPalAvailable = false;\r\n        console.error(\"failed to render the PayPal Buttons\", error);\r\n      });\r\n    } catch (error) {\r\n      console.error(\"failed to load the PayPal JS SDK script\", error);\r\n    }\r\n  }\r\n\r\n  addCollectionJS(url: string, callback: () => void): void {\r\n    const script = this.renderer.createElement('script');\r\n    script.src = url;\r\n    script.setAttribute('data-variant', 'inline');\r\n    script.setAttribute('data-tokenization-key', '24x5CN-Y34yun-9cy3V7-t5MAZ2');\r\n    this.renderer.appendChild(document.head, script);\r\n    script.onload = callback;\r\n  }\r\n\r\n  configureCollectionJs() {\r\n    (window as any).CollectJS.configure({\r\n      variant: 'inline',\r\n      price: this.orderSummaryData['price'].toFixed(3),\r\n      styleSniffer: true,\r\n      currency: 'USD',\r\n      country: 'US',\r\n      customCss: {\r\n        'border-style': 'none',\r\n        'background-color': 'transparent',\r\n        'font-size': '18px',\r\n        'font-weight': '500'\r\n      },\r\n      callback: (response: any) => {\r\n        this.verifyPayment(response, 'nmi');\r\n      },\r\n      fields: {\r\n        ccnumber: {\r\n          selector: '#ccnumber'\r\n        },\r\n        ccexp: {\r\n          selector: '#ccexp'\r\n        },\r\n        cvv: {\r\n          selector: '#cvv'\r\n        }\r\n      },\r\n      validationCallback: (field: any, status: any, message: any) => {\r\n        if (field == 'ccnumber') {\r\n          this.validateCCNumber(status, message);\r\n        }\r\n        if (field == 'ccexp') {\r\n          this.validateCCExp(status, message);\r\n        }\r\n        if (field == 'cvv') {\r\n          this.validateCVV(status, message);\r\n        }\r\n      },\r\n      fieldsAvailableCallback: () => {\r\n        this.cardLoaded = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  validateCCNumber(status: boolean, message: string) {\r\n    this.zone.run(() => {\r\n      if (!status) {\r\n        this.cardNumberMT = 'error';\r\n        this.cardNumberIM = message;\r\n        this.paymentButtonLabel = 'Pay & Confirm';\r\n        this.isPaymentButtonDisabled = false;\r\n      } else {\r\n        this.cardNumberMT = '';\r\n        this.cardNumberIM = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  validateCCExp(status: boolean, message: string) {\r\n    this.zone.run(() => {\r\n      if (!status) {\r\n        this.cardExpireyMT = 'error';\r\n        this.cardExpireyIM = message;\r\n        this.paymentButtonLabel = 'Pay & Confirm';\r\n        this.isPaymentButtonDisabled = false;\r\n      } else {\r\n        this.cardExpireyMT = '';\r\n        this.cardExpireyIM = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  validateCVV(status: boolean, message: string) {\r\n    this.zone.run(() => {\r\n      if (!status) {\r\n        this.cardCvvMT = 'error';\r\n        this.cardCvvIM = message;\r\n        this.paymentButtonLabel = 'Pay & Confirm';\r\n        this.isPaymentButtonDisabled = false;\r\n      } else {\r\n        this.cardCvvMT = '';\r\n        this.cardCvvIM = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  openBillingAdress() {\r\n    this.isBillingAdressSame.valueChanges.subscribe((value) => {\r\n      this.showAddressCard = !value;\r\n    });\r\n  }\r\n\r\n  validatePayment() {\r\n    if (!this.isBillingAdressSame.value) {\r\n      if (this.billingForm.invalid) {\r\n        if (this.billingAdress.invalid) {\r\n          this.billingAdressMT = \"error\";\r\n          if (this.billingAdress?.errors['required']) {\r\n            this.billingAdressIM = \"Address is required\";\r\n          } else if (this.billingAdress?.errors['minlength']) {\r\n            this.billingAdressIM = \"Address is too short\";\r\n          }\r\n          const validBillingAdress = this.billingAdress.statusChanges.subscribe((status) => {\r\n            if (status === 'VALID') {\r\n              this.billingAdressIM = '';\r\n              this.billingAdressMT = '';\r\n              validBillingAdress.unsubscribe();\r\n            }\r\n          });\r\n        }\r\n        if (this.billingCity.invalid) {\r\n          this.billingCityMT = \"error\";\r\n          if (this.billingCity?.errors['required']) {\r\n            this.billingCityIM = \"City is required\";\r\n          }\r\n          const validBillingCity = this.billingCity.statusChanges.subscribe((status) => {\r\n            if (status === 'VALID') {\r\n              this.billingCityMT = '';\r\n              validBillingCity.unsubscribe();\r\n            }\r\n          });\r\n        }\r\n        if (this.billingState.invalid) {\r\n          this.billingStateMT = \"error\";\r\n          if (this.billingState?.errors['required']) {\r\n            this.billingStateIM = \"State is required\";\r\n          }\r\n          const validBillingState = this.billingState.statusChanges.subscribe((status) => {\r\n            if (status === 'VALID') {\r\n              this.billingStateMT = '';\r\n              validBillingState.unsubscribe();\r\n            }\r\n          });\r\n        }\r\n        if (this.billingZip.invalid) {\r\n          this.billingZipMT = \"error\";\r\n          if (this.billingZip?.errors['required']) {\r\n            this.billingZipIM = \"Zip is required\";\r\n          } else if (this.billingZip?.errors['minlength']) {\r\n            this.billingZipIM = \"Zip is too short\";\r\n          }\r\n          const validBillingZip = this.billingZip.statusChanges.subscribe((status) => {\r\n            if (status === 'VALID') {\r\n              this.billingZipMT = '';\r\n              validBillingZip.unsubscribe();\r\n            }\r\n          });\r\n        }\r\n        return;\r\n      }\r\n    }\r\n    if (this.paymentType.value === \"card\") {\r\n      if (this.paymentForm.invalid) {\r\n        if (this.cardHolderName.invalid) {\r\n          this.cardHolderNameMT = \"error\";\r\n          if (this.cardHolderName?.errors['required']) {\r\n            this.cardHolderNameIM = \"Card holder name is required\";\r\n          }\r\n          const validCardHolderName = this.cardHolderName.statusChanges.subscribe((status) => {\r\n            if (status === 'VALID') {\r\n              this.cardHolderNameMT = '';\r\n              this.cardHolderNameIM = '';\r\n              validCardHolderName.unsubscribe();\r\n            }\r\n          });\r\n        }\r\n        return;\r\n      }\r\n    }\r\n    this.makePayment();\r\n  }\r\n\r\n  makePayment() {\r\n    this.zone.run(() => {\r\n      if (this.cardNumberMT === '' && this.cardExpireyMT === '' && this.cardCvvMT === '' && this.cardHolderNameMT === '') {\r\n        this.paymentButtonLabel = 'Processing...';\r\n        this.isPaymentButtonDisabled = true;\r\n      }\r\n    });\r\n    if (this.orderParams['mode'] != this.paymentMode.CASH && this.cardHolderNameMT === '') {\r\n      (window as any).CollectJS.startPaymentRequest();\r\n    } else {\r\n      this.verifyPayment({ token: '' }, 'cash');\r\n    }\r\n  }\r\n\r\n  verifyPayment(res: any, paymentType: 'nmi' | 'paypal' | 'cash') {\r\n    this.zone.run(() => {\r\n      this.paymentButtonLabel = 'Processing...';\r\n      this.isPaymentButtonDisabled = true;\r\n    });\r\n\r\n    let body = {\r\n      isZipChanged: false,\r\n      isMultipleFips: false,\r\n      isDealAvailable: true,\r\n      isFlashSale: false,\r\n      isFlatDeliveryFee: this.orderParams['isFlatFee'],\r\n      flatDeliveryFee: this.orderParams['flatFee'],\r\n      isFuelAdditive: this.orderParams['fuel-additive'],\r\n      serviceName: '',\r\n      companyId: this.orderParams['companyId'],\r\n      companyName: this.orderParams['name'],\r\n      price: this.orderParams['calculatedPrice'],\r\n      customerType: 0,\r\n      deliveryDay: this.orderParams['dayId'],\r\n      isTermsAccepted: false,\r\n      isUpsale: false,\r\n      orderType: ServiceType.OilDelivery,\r\n      payWithCash: false,\r\n      serviceId: -1,\r\n      tankSize: 275,\r\n      userId: parseInt(this.cookieHelper.getUserID()),\r\n      zipCode: this.orderParams['zipCode'],\r\n      city: this.orderParams['city'],\r\n      county: this.orderParams['county'],\r\n      fipsCode: this.orderParams['fips'],\r\n      state: this.orderParams['state'],\r\n      amount: parseInt(this.orderParams['quantity']),\r\n      token: null,\r\n      heatFleetFlashSaleId: this.orderParams['heatFleetFlashSaleId'],\r\n      deliveryId: parseInt(this.orderParams['addressId']),\r\n      BillingAddressSameAsDeliveryAddress: this.isBillingAdressSame.value,\r\n      BillingStreet1: this.orderParams['street1'],\r\n      BillingCity: this.orderParams['city'],\r\n      BillingState: this.orderParams['state'],\r\n      BillingZIP: this.orderParams['zipCode'],\r\n      BillingCounty: this.orderParams['county'],\r\n      BillingFIPS: this.orderParams['fips'],\r\n      SupportUserName: null,\r\n      CallCompanyId: null,\r\n      ReferredBy: null,\r\n      isCompanyWebsiteUrl: null,\r\n    }\r\n\r\n    if (!this.isBillingAdressSame.value) {\r\n      body.BillingStreet1 = this.billingAdress.value;\r\n      body.BillingCity = this.billingCity.value;\r\n      body.BillingState = this.billingState.value;\r\n      body.BillingZIP = this.billingZip.value;\r\n    }\r\n\r\n    if (paymentType === 'cash') {\r\n      body.payWithCash = true;\r\n    } else if (paymentType === 'paypal') {\r\n      body.token = res['id'];\r\n      body['paymentType'] = \"Paypal\";\r\n      body['paymentSuccess'] = res.purchase_units[0].payments.captures[0].status;\r\n      body['paymentCaptureId'] = res.purchase_units[0].payments.captures[0].id;\r\n      body['payPalResponse'] = JSON.stringify(res);\r\n    } else if (paymentType === 'nmi') {\r\n      body.token = res['token'];\r\n    }\r\n\r\n    const url = `${environment.api_url}customer/order/place`;\r\n    this.http.post(url, body).subscribe({\r\n      next: (response) => {\r\n        this.zone.run(() => {\r\n          if (response['isError']) {\r\n            this.toastService.toastMessage.next({ title: `Payment Failed`, msg: `${response['errorMessage']} Please try other credit card or debit card`, type: 'error' });\r\n          } else {\r\n            this.orderParams['orderId'] = response['id'];\r\n            this.storeService.addValueToStore('orderParams', this.orderParams);\r\n            this.toastService.toastMessage.next({ title: `Payment Success`, msg: 'Order placed successfully', type: 'success' });\r\n            this.router.navigate([URLS.DELIVERY_DETAILS]);\r\n          }\r\n          this.paymentButtonLabel = 'Pay & Confirm';\r\n          this.isPaymentButtonDisabled = false;\r\n        });\r\n      },\r\n      error: (error) => {\r\n        this.zone.run(() => {\r\n          this.paymentButtonLabel = 'Pay & Confirm';\r\n          this.isPaymentButtonDisabled = false;\r\n          this.toastService.toastMessage.next({ title: `Payment Failed`, msg: 'Something went wrong, Please contact support', type: 'error' });\r\n          console.log(error);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  openTermsModal() {\r\n    if (!this.showTermsModal) {\r\n      this.showTermsModal = true;\r\n      if (!this.companyDetails) {\r\n        const url = `${environment.api_url}customer/offer/get-companydetails?companyId=${this.orderParams['companyId']}`;\r\n        this.http.get(url).subscribe({\r\n          next: (response) => {\r\n            this.companyDetails = response;\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  closeTermsModal(isClosed: boolean) {\r\n    if (isClosed) {\r\n      this.showTermsModal = false;\r\n    }\r\n  }\r\n\r\n  selectPaypalPaymentType() {\r\n    this.paymentType.setValue('paypal');\r\n  }\r\n}\r\n","<div class=\"payment-container\">\r\n    <app-order-details-bar></app-order-details-bar>\r\n    @if(appService.isBrowserRendering && orderParams){\r\n    <hf-card [cardStyle]=\"'primary'\">\r\n        <div class=\"payment-card\">\r\n            <div class=\"hf-heading-4 hf-dark-grey-text-color hf-dark-font\">Payment</div>\r\n\r\n            <hf-card class=\"invoice-card\" [cardStyle]=\"'secondary'\">\r\n                <p class=\"hf-body-2 hf-dark-grey-text-color hf-dark-font\" style=\"padding-left: 16px;\">Order Summary</p>\r\n                <app-order-invoice class=\"order-invoice\" [oilOrder]=\"invoiceData\"\r\n                    [data]=\"orderData\"></app-order-invoice>\r\n            </hf-card>\r\n\r\n            <hf-card [cardStyle]=\"'tertiary'\">\r\n                <div class=\"payment-section\">\r\n                    <div class=\"payment-header\">\r\n                        <div class=\"payment-title\">\r\n                            <p class=\"hf-body-1 hf-dark-grey-text-color hf-dark-font\">{{paymentTypeLabel}}</p>\r\n                            @if(paymentType.value === \"card\") {\r\n                            <div class=\"payment-icons\">\r\n                                <img src=\"assets/images/amex.png\" alt=\"amex card icon\" title=\"amex card icon\">\r\n                                <img src=\"assets/images/visa.png\" alt=\"visa card icon\" title=\"visa card icon\">\r\n                                <img src=\"assets/images/master.png\" alt=\"master card icon\" title=\"master card icon\">\r\n                            </div>\r\n                            }\r\n                        </div>\r\n                        <div>\r\n                            <hf-checkbox [inputId]=\"'billing address'\" [inputValue]=\"isBillingAdressSame\"\r\n                                [inputLabel]=\"'Billing same as delivery address'\"></hf-checkbox>\r\n                        </div>\r\n                    </div>\r\n                    @if(paymentType.value === \"card\") {\r\n                    @if(!cardPaymentInit){\r\n                    <div class=\"payment-details\">\r\n                        <div class=\"card-deatils\">\r\n                            <hf-input inputLabel=\"Card Number\" inputType=\"custom\" [inputDescription]=\"cardNumberIM\"\r\n                                [descriptionType]=\"cardNumberMT\">\r\n                                <div id=\"ccnumber\" style=\"height: 24px;\"></div>\r\n                            </hf-input>\r\n                            <div class=\"card-secret\">\r\n                                <hf-input inputLabel=\"MM/YY\" inputType=\"custom\" [inputDescription]=\"cardExpireyIM\"\r\n                                    [descriptionType]=\"cardExpireyMT\">\r\n                                    <div id=\"ccexp\" style=\"height: 24px;\"></div>\r\n                                </hf-input>\r\n                                <hf-input inputLabel=\"CVV\" inputType=\"custom\" [inputDescription]=\"cardCvvIM\"\r\n                                    [descriptionType]=\"cardCvvMT\">\r\n                                    <div id=\"cvv\" style=\"height: 24px;\"></div>\r\n                                </hf-input>\r\n                            </div>\r\n                        </div>\r\n                        <hf-input inputLabel=\"Cardholder Name\" inputType=\"text\" [inputValue]=\"cardHolderName\"\r\n                            [inputDescription]=\"cardHolderNameIM\" [descriptionType]=\"cardHolderNameMT\">\r\n                        </hf-input>\r\n                    </div>\r\n                    } @else {\r\n                    <p class=\"hf-body-2 hf-dark-grey-text-color\" style=\"text-align: center;\">Initializing payment\r\n                        gateway...</p>\r\n                    }\r\n                    } @else if (paymentType.value === \"cash\") {\r\n                    <p class=\"hf-body-2 hf-dark-grey-text-color\">We will transmit your order to the provider, who will\r\n                        call you to confirm delivery time and payment instructions.</p>\r\n                    } @else if (paymentType.value === \"paypal\") {\r\n                    <p class=\"hf-body-2 hf-dark-grey-text-color\">Split your payment into manageable installments with\r\n                        PayPal Pay Later. Enjoy your purchase now and pay over time!</p>\r\n                    }\r\n                    @if (showAddressCard) {\r\n                    <div class=\"billing-deatils\">\r\n                        <p class=\"hf-body-1 hf-dark-grey-text-color hf-dark-font\">Billing Address</p>\r\n                        <hf-input inputLabel=\"Address\" inputType=\"text\" [inputValue]=\"billingAdress\"\r\n                            [descriptionType]=\"billingAdressMT\" [inputDescription]=\"billingAdressIM\">\r\n                        </hf-input>\r\n                        <div class=\"billing-info\">\r\n                            <hf-input inputLabel=\"City\" inputType=\"text\" [inputValue]=\"billingCity\"\r\n                                [descriptionType]=\"billingCityMT\" [inputDescription]=\"billingCityIM\">\r\n                            </hf-input>\r\n                            <div class=\"billing-zip\">\r\n                                <hf-input inputLabel=\"State\" inputType=\"text\" [inputValue]=\"billingState\"\r\n                                    [descriptionType]=\"billingStateMT\" [inputDescription]=\"billingStateIM\">\r\n                                </hf-input>\r\n                                <hf-input inputLabel=\"ZIP\" inputType=\"text\" [inputValue]=\"billingZip\"\r\n                                    [descriptionType]=\"billingZipMT\" [inputDescription]=\"billingZipIM\">\r\n                                </hf-input>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                </div>\r\n            </hf-card>\r\n\r\n            @if(paymentType.value !== \"paypal\"){\r\n            <hf-button type=\"button\" [buttonStyle]=\"'primary'\" [buttonSize]=\"'medium'\" [labelText]=\"paymentButtonLabel\"\r\n                (click)=\"validatePayment()\" [isDisabled]=\"isPaymentButtonDisabled\"></hf-button>\r\n            } @else {\r\n            @if(isPayPalAvailable) {\r\n            @if(!isPaypalLoaded) {\r\n            <p class=\"hf-body-2 hf-dark-grey-text-color\" style=\"text-align: center;\">Initializing payment gateway...</p>\r\n            }\r\n            <div id=\"paypal-button\"></div>\r\n            } @else {\r\n            <p class=\"hf-body-2 hf-dark-grey-text-color\" style=\"text-align: center;\">Payment gateway not available</p>\r\n            }\r\n            }\r\n\r\n            <p class=\"company-terms hf-body-2\" style=\"text-align: center;\">By clicking Pay & Confirm, you confirm that\r\n                you have\r\n                read, understand, and agree to the\r\n                <span (click)=\"openTermsModal()\">{{orderParams['name']}} Terms.</span>\r\n            </p>\r\n        </div>\r\n    </hf-card>\r\n    }\r\n</div>\r\n\r\n<hf-model [showModel]=\"showTermsModal\" [modelSize]=\"'medium'\" [modelTitle]=\"'Company terms'\"\r\n    (modelClosed)=\"closeTermsModal($event)\">\r\n    <div class=\"terms-modal\">\r\n        @if(companyDetails) {\r\n        <p class=\"hf-body-1\" [innerHTML]=\"companyDetails['termsOfDelivery']\"></p>\r\n        <hf-button type=\"button\" [buttonStyle]=\"'primary'\" [buttonSize]=\"'medium'\" [labelText]=\"'CLOSE'\"\r\n            (click)=\"closeTermsModal(true)\" style=\"margin-top: 20px;\"></hf-button>\r\n        } @else {\r\n        <p class=\"hf-body-1\">Loading...</p>\r\n        }\r\n    </div>\r\n</hf-model>","/*!\n * paypal-js v8.0.5 (2024-04-16T22:14:11.318Z)\n * Copyright 2020-present, PayPal, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction findScript(url, attributes) {\n    var currentScript = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n    if (currentScript === null)\n        return null;\n    var nextScript = createScriptElement(url, attributes);\n    // ignore the data-uid-auto attribute that gets auto-assigned to every script tag\n    var currentScriptClone = currentScript.cloneNode();\n    delete currentScriptClone.dataset.uidAuto;\n    // check if the new script has the same number of data attributes\n    if (Object.keys(currentScriptClone.dataset).length !==\n        Object.keys(nextScript.dataset).length) {\n        return null;\n    }\n    var isExactMatch = true;\n    // check if the data attribute values are the same\n    Object.keys(currentScriptClone.dataset).forEach(function (key) {\n        if (currentScriptClone.dataset[key] !== nextScript.dataset[key]) {\n            isExactMatch = false;\n        }\n    });\n    return isExactMatch ? currentScript : null;\n}\nfunction insertScriptElement(_a) {\n    var url = _a.url, attributes = _a.attributes, onSuccess = _a.onSuccess, onError = _a.onError;\n    var newScript = createScriptElement(url, attributes);\n    newScript.onerror = onError;\n    newScript.onload = onSuccess;\n    document.head.insertBefore(newScript, document.head.firstElementChild);\n}\nfunction processOptions(options) {\n    var sdkBaseUrl = \"https://www.paypal.com/sdk/js\";\n    if (options.sdkBaseUrl) {\n        sdkBaseUrl = options.sdkBaseUrl;\n        delete options.sdkBaseUrl;\n    }\n    var optionsWithStringIndex = options;\n    var _a = Object.keys(optionsWithStringIndex)\n        .filter(function (key) {\n        return (typeof optionsWithStringIndex[key] !== \"undefined\" &&\n            optionsWithStringIndex[key] !== null &&\n            optionsWithStringIndex[key] !== \"\");\n    })\n        .reduce(function (accumulator, key) {\n        var value = optionsWithStringIndex[key].toString();\n        key = camelCaseToKebabCase(key);\n        if (key.substring(0, 4) === \"data\" || key === \"crossorigin\") {\n            accumulator.attributes[key] = value;\n        }\n        else {\n            accumulator.queryParams[key] = value;\n        }\n        return accumulator;\n    }, {\n        queryParams: {},\n        attributes: {},\n    }), queryParams = _a.queryParams, attributes = _a.attributes;\n    if (queryParams[\"merchant-id\"] &&\n        queryParams[\"merchant-id\"].indexOf(\",\") !== -1) {\n        attributes[\"data-merchant-id\"] = queryParams[\"merchant-id\"];\n        queryParams[\"merchant-id\"] = \"*\";\n    }\n    return {\n        url: \"\".concat(sdkBaseUrl, \"?\").concat(objectToQueryString(queryParams)),\n        attributes: attributes,\n    };\n}\nfunction camelCaseToKebabCase(str) {\n    var replacer = function (match, indexOfMatch) {\n        return (indexOfMatch ? \"-\" : \"\") + match.toLowerCase();\n    };\n    return str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, replacer);\n}\nfunction objectToQueryString(params) {\n    var queryString = \"\";\n    Object.keys(params).forEach(function (key) {\n        if (queryString.length !== 0)\n            queryString += \"&\";\n        queryString += key + \"=\" + params[key];\n    });\n    return queryString;\n}\nfunction createScriptElement(url, attributes) {\n    if (attributes === void 0) { attributes = {}; }\n    var newScript = document.createElement(\"script\");\n    newScript.src = url;\n    Object.keys(attributes).forEach(function (key) {\n        newScript.setAttribute(key, attributes[key]);\n        if (key === \"data-csp-nonce\") {\n            newScript.setAttribute(\"nonce\", attributes[\"data-csp-nonce\"]);\n        }\n    });\n    return newScript;\n}\n\n/**\n * Load the Paypal JS SDK script asynchronously.\n *\n * @param {Object} options - used to configure query parameters and data attributes for the JS SDK.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<Object>} paypalObject - reference to the global window PayPal object.\n */\nfunction loadScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = Promise; }\n    validateArguments(options, PromisePonyfill);\n    // resolve with null when running in Node or Deno\n    if (typeof document === \"undefined\")\n        return PromisePonyfill.resolve(null);\n    var _a = processOptions(options), url = _a.url, attributes = _a.attributes;\n    var namespace = attributes[\"data-namespace\"] || \"paypal\";\n    var existingWindowNamespace = getPayPalWindowNamespace(namespace);\n    if (!attributes[\"data-js-sdk-library\"]) {\n        attributes[\"data-js-sdk-library\"] = \"paypal-js\";\n    }\n    // resolve with the existing global paypal namespace when a script with the same params already exists\n    if (findScript(url, attributes) && existingWindowNamespace) {\n        return PromisePonyfill.resolve(existingWindowNamespace);\n    }\n    return loadCustomScript({\n        url: url,\n        attributes: attributes,\n    }, PromisePonyfill).then(function () {\n        var newWindowNamespace = getPayPalWindowNamespace(namespace);\n        if (newWindowNamespace) {\n            return newWindowNamespace;\n        }\n        throw new Error(\"The window.\".concat(namespace, \" global variable is not available.\"));\n    });\n}\n/**\n * Load a custom script asynchronously.\n *\n * @param {Object} options - used to set the script url and attributes.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<void>} returns a promise to indicate if the script was successfully loaded.\n */\nfunction loadCustomScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = Promise; }\n    validateArguments(options, PromisePonyfill);\n    var url = options.url, attributes = options.attributes;\n    if (typeof url !== \"string\" || url.length === 0) {\n        throw new Error(\"Invalid url.\");\n    }\n    if (typeof attributes !== \"undefined\" && typeof attributes !== \"object\") {\n        throw new Error(\"Expected attributes to be an object.\");\n    }\n    return new PromisePonyfill(function (resolve, reject) {\n        // resolve with undefined when running in Node or Deno\n        if (typeof document === \"undefined\")\n            return resolve();\n        insertScriptElement({\n            url: url,\n            attributes: attributes,\n            onSuccess: function () { return resolve(); },\n            onError: function () {\n                var defaultError = new Error(\"The script \\\"\".concat(url, \"\\\" failed to load. Check the HTTP status code and response body in DevTools to learn more.\"));\n                return reject(defaultError);\n            },\n        });\n    });\n}\nfunction getPayPalWindowNamespace(namespace) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return window[namespace];\n}\nfunction validateArguments(options, PromisePonyfill) {\n    if (typeof options !== \"object\" || options === null) {\n        throw new Error(\"Expected an options object.\");\n    }\n    if (typeof PromisePonyfill !== \"undefined\" &&\n        typeof PromisePonyfill !== \"function\") {\n        throw new Error(\"Expected PromisePonyfill to be a function.\");\n    }\n}\n\n// replaced with the package.json version at build time\nvar version = \"8.0.5\";\n\nexport { loadCustomScript, loadScript, version };\n"],"names":["NgZone","Renderer2","HttpClient","OrderDetailsBarComponent","HfButtonComponent","HfCardComponent","HfCheckboxComponent","HfInputComponent","HfModelComponent","HfToastService","inputMsgType","FormControl","FormGroup","ReactiveFormsModule","Validators","AppService","StoreService","maxLengthRestriction","CookieHelper","environment","ServiceType","PaymentMode","Router","CommonModule","OrderInvoiceComponent","URLS","loadScript","i0","elementStart","element","elementEnd","advance","property","ctx_r1","cardNumberIM","cardNumberMT","cardExpireyIM","cardExpireyMT","cardCvvIM","cardCvvMT","cardHolderName","cardHolderNameIM","cardHolderNameMT","text","template","PaymentComponent_Conditional_2_Conditional_17_Conditional_0_Template","PaymentComponent_Conditional_2_Conditional_17_Conditional_1_Template","conditional","cardPaymentInit","billingAdress","billingAdressMT","billingAdressIM","billingCity","billingCityMT","billingCityIM","billingState","billingStateMT","billingStateIM","billingZip","billingZipMT","billingZipIM","listener","PaymentComponent_Conditional_2_Conditional_21_Template_hf_button_click_0_listener","restoreView","_r3","nextContext","resetView","validatePayment","paymentButtonLabel","isPaymentButtonDisabled","PaymentComponent_Conditional_2_Conditional_22_Conditional_0_Conditional_0_Template","isPaypalLoaded","PaymentComponent_Conditional_2_Conditional_22_Conditional_0_Template","PaymentComponent_Conditional_2_Conditional_22_Conditional_1_Template","isPayPalAvailable","PaymentComponent_Conditional_2_Conditional_14_Template","PaymentComponent_Conditional_2_Conditional_17_Template","PaymentComponent_Conditional_2_Conditional_18_Template","PaymentComponent_Conditional_2_Conditional_19_Template","PaymentComponent_Conditional_2_Conditional_20_Template","PaymentComponent_Conditional_2_Conditional_21_Template","PaymentComponent_Conditional_2_Conditional_22_Template","PaymentComponent_Conditional_2_Template_span_click_25_listener","_r1","openTermsModal","invoiceData","orderData","textInterpolate","paymentTypeLabel","paymentType","value","isBillingAdressSame","showAddressCard","textInterpolate1","orderParams","PaymentComponent_Conditional_5_Template_hf_button_click_1_listener","_r4","closeTermsModal","companyDetails","sanitizeHtml","PaymentComponent","billingForm","get","paymentForm","constructor","http","storeService","cookieHelper","renderer","router","toastService","appService","zone","paymentMode","showTermsModal","cardLoaded","required","minLength","ngOnInit","isBrowserRendering","selectPaymentType","openBillingAdress","getValueFromStore","CASH","setValue","PAYPAL","callSummaryApi","body","isZipChanged","isMultipleFips","isDealAvailable","isFlashSale","isFlatDeliveryFee","flatDeliveryFee","isFuelAdditive","serviceName","companyId","companyName","price","customerType","deliveryDay","isTermsAccepted","isUpsale","orderType","OilDelivery","payWithCash","serviceId","tankSize","userId","parseInt","getUserID","zipCode","city","county","fipsCode","state","amount","token","heatFleetFlashSaleId","deliveryId","SupportUserName","CallCompanyId","ReferredBy","isCompanyWebsiteUrl","url","api_url","post","subscribe","next","response","orderSummaryData","CREDIT","addCollectionJS","configureCollectionJs","payPalInit","error","console","log","_this","_asyncToGenerator","paypal","clientId","paypal_client_id","currency","components","run","Buttons","fundingSource","FUNDING","PAYLATER","createOrder","data","actions","order","create","purchase_units","toFixed","onApprove","capture","then","details","verifyPayment","onError","err","toastMessage","title","msg","type","render","catch","callback","script","createElement","src","setAttribute","appendChild","document","head","onload","window","CollectJS","configure","variant","styleSniffer","country","customCss","fields","ccnumber","selector","ccexp","cvv","validationCallback","field","status","message","validateCCNumber","validateCCExp","validateCVV","fieldsAvailableCallback","valueChanges","invalid","errors","validBillingAdress","statusChanges","unsubscribe","validBillingCity","validBillingState","validBillingZip","validCardHolderName","makePayment","startPaymentRequest","res","BillingAddressSameAsDeliveryAddress","BillingStreet1","BillingCity","BillingState","BillingZIP","BillingCounty","BillingFIPS","payments","captures","id","JSON","stringify","addValueToStore","navigate","DELIVERY_DETAILS","isClosed","selectPaypalPaymentType","_","directiveInject","i1","i2","i3","i4","i5","_2","selectors","standalone","features","StandaloneFeature","decls","vars","consts","template","PaymentComponent_Template","rf","ctx","PaymentComponent_Conditional_2_Template","PaymentComponent_Template_hf_model_modelClosed_3_listener","$event","PaymentComponent_Conditional_5_Template","PaymentComponent_Conditional_6_Template","styles","findScript","attributes","currentScript","querySelector","concat","nextScript","createScriptElement","currentScriptClone","cloneNode","dataset","uidAuto","Object","keys","length","isExactMatch","forEach","key","insertScriptElement","_a","onSuccess","newScript","onerror","insertBefore","firstElementChild","processOptions","options","sdkBaseUrl","optionsWithStringIndex","filter","reduce","accumulator","toString","camelCaseToKebabCase","substring","queryParams","indexOf","objectToQueryString","str","replacer","match","indexOfMatch","toLowerCase","replace","params","queryString","PromisePonyfill","Promise","validateArguments","resolve","namespace","existingWindowNamespace","getPayPalWindowNamespace","loadCustomScript","newWindowNamespace","Error","reject","defaultError","version"],"sourceRoot":"webpack:///","x_google_ignoreList":[2]}