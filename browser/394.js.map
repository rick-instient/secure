{"version":3,"file":"394.js","mappings":"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","sources":["./libs/auth/src/auth/auth.component.ts","./libs/auth/src/auth/auth.component.html","./libs/auth/src/index.ts"],"sourcesContent":["import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Subscription } from 'rxjs';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { HfButtonComponent, HfCardComponent, HfInputComponent, HfToastService, inputMsgType } from '@monorepo/ui';\r\nimport { AuthService, CheckEmailInfo, LoginResponse, maxLengthRestriction, noWhitespaceValidator } from '@monorepo/utils';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nenum Template {\r\n  EMAIL = 0,\r\n  PASSWORD = 1,\r\n  OTP = 2\r\n}\r\n\r\n@Component({\r\n  selector: 'lib-login',\r\n  standalone: true,\r\n  templateUrl: './auth.component.html',\r\n  styleUrl: './auth.component.scss',\r\n  imports: [CommonModule, HfInputComponent, HfButtonComponent, HfCardComponent]\r\n})\r\nexport class AuthComponent implements OnDestroy, OnInit {\r\n\r\n  emailValidationApiSubscription: Subscription;\r\n  loginApiSubscription: Subscription;\r\n  sendOtpApiSubscription: Subscription;\r\n  emailInfo: Subscription;\r\n  template = Template;\r\n  templateActiveSection: Template = this.template.EMAIL;\r\n  emailButtonLabel: string = 'Continue with email';\r\n  isEmailButtonDisabled: boolean = false;\r\n  loginButtonLabel: string = 'LOGIN';\r\n  isLoginButtonDisabled: boolean = false;\r\n  otpButtonLabel: string = 'VERIFY';\r\n  isOtpButtonDisabled: boolean = false;\r\n  validEmail: Subscription;\r\n\r\n  @Input() modelAuth: boolean = false;\r\n\r\n  emailControl: FormControl = new FormControl(null, [\r\n    Validators.required,\r\n    Validators.pattern(this.authService.emailKey),\r\n    noWhitespaceValidator()\r\n  ]);\r\n  passwordControl: FormControl = new FormControl(null, [\r\n    Validators.required,\r\n  ]);\r\n  otpControl: FormControl = new FormControl(null, [\r\n    Validators.required,\r\n    maxLengthRestriction(6)\r\n  ]);\r\n\r\n  emailIM: string = '';\r\n  emailMT: inputMsgType = '';\r\n  passwordIM: string = '';\r\n  passwordMT: inputMsgType = '';\r\n  otpIM: string = '';\r\n  otpMT: inputMsgType = '';\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n    private toastService: HfToastService,\r\n    public authService: AuthService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    if (!this.authService.isSetAuthCalled) {\r\n      console.error('Auth service not set, Please set auth service on app component');\r\n    } else {\r\n      this.checkEmailInfo();\r\n    }\r\n  }\r\n\r\n  checkEmailInfo() {\r\n    this.emailInfo = this.authService.checkEmailInfo$.subscribe((res: CheckEmailInfo) => {\r\n      if (res.email != '') {\r\n        this.emailControl.setValue(res.email);\r\n        this.isEmailValid();\r\n      }\r\n    });\r\n  }\r\n\r\n  isEmailValid() {\r\n    if (this.emailControl.invalid) {\r\n      this.emailMT = \"error\";\r\n      if (this.emailControl?.errors['required']) {\r\n        this.emailIM = \"Email is required\";\r\n      }\r\n      if (this.emailControl?.errors['pattern']) {\r\n        this.emailIM = \"Invalid email\";\r\n      }\r\n      const validEmail = this.emailControl.statusChanges.subscribe((status) => {\r\n        if (status === 'VALID') {\r\n          this.emailIM = '';\r\n          this.emailMT = '';\r\n          validEmail.unsubscribe();\r\n        }\r\n      });\r\n    } else {\r\n      this.callEmailValidationApi(this.emailControl.value);\r\n    }\r\n  }\r\n\r\n  isPasswordValid() {\r\n    if (this.passwordControl.invalid) {\r\n      this.passwordMT = \"error\";\r\n      if (this.passwordControl?.errors['required']) {\r\n        this.passwordIM = \"Password is required\";\r\n      }\r\n      const validPassword = this.passwordControl.statusChanges.subscribe((status) => {\r\n        if (status === 'VALID') {\r\n          this.passwordIM = '';\r\n          this.passwordMT = '';\r\n          validPassword.unsubscribe();\r\n        }\r\n      });\r\n    } else {\r\n      this.callloginApi('login');\r\n    }\r\n  }\r\n\r\n  isOtpValid() {\r\n    if (this.otpControl.invalid) {\r\n      this.otpMT = \"error\";\r\n      if (this.otpControl?.errors['required']) {\r\n        this.otpIM = \"Otp is required\";\r\n      }\r\n      if (this.otpControl?.errors['maxlength']) {\r\n        this.otpIM = \"Invalid otp, otp should be 6 digits\";\r\n      }\r\n      const validOtp = this.otpControl.statusChanges.subscribe((status) => {\r\n        if (status === 'VALID') {\r\n          this.otpIM = '';\r\n          this.otpMT = '';\r\n          validOtp.unsubscribe();\r\n        }\r\n      });\r\n    } else {\r\n      this.callloginApi('login-with-otp');\r\n    }\r\n  }\r\n\r\n  callloginApi(mode: 'login-with-otp' | 'login') {\r\n    this.isLoginButtonDisabled = true;\r\n    this.loginButtonLabel = 'LOGGING IN...';\r\n    this.otpButtonLabel = 'VERIFYING...';\r\n    this.isOtpButtonDisabled = true;\r\n    const loginApiUrl = `${this.authService.apiUrl}authenticate/${mode}?api-version=${this.authService.apiVersion}`;\r\n    let body = {};\r\n    if (mode === 'login') {\r\n      body = {\r\n        \"username\": this.authService.getEncryptedValue(this.emailControl.value),\r\n        \"password\": this.authService.getEncryptedValue(this.passwordControl.value)\r\n      }\r\n    } else {\r\n      body = {\r\n        \"username\": this.emailControl.value,\r\n        \"password\": this.passwordControl.value\r\n      }\r\n    }\r\n    this.loginApiSubscription = this.http.post(loginApiUrl, body).subscribe({\r\n      next: (res: LoginResponse) => {\r\n        this.authService.isLoginDone.next({ isLoginDone: true, loginResponse: res });\r\n        this.isLoginButtonDisabled = false;\r\n        this.loginButtonLabel = 'LOGIN';\r\n      },\r\n      error: (err) => {\r\n        console.log(err);\r\n        this.authService.isLoginDone.next({ isLoginDone: false, loginResponse: null });\r\n        this.isLoginButtonDisabled = false;\r\n        this.loginButtonLabel = 'LOGIN';\r\n      }\r\n    })\r\n  }\r\n\r\n  callEmailValidationApi(email: string) {\r\n    this.emailButtonLabel = 'Checking...';\r\n    this.isEmailButtonDisabled = true;\r\n\r\n    const emailValidationApiUrl = `${this.authService.apiUrl}Authenticate/check-auto-password-email?api-version=${this.authService.apiVersion}`;\r\n    const payload = {\r\n      \"Email\": email\r\n    };\r\n\r\n    this.emailValidationApiSubscription = this.http.post(emailValidationApiUrl, payload).subscribe({\r\n      next: (res) => {\r\n        if (!res['isEmailValid']) {\r\n          this.emailMT = \"error\";\r\n          this.emailIM = \"Invalid email, try other email\";\r\n          this.validEmail = this.emailControl.statusChanges.subscribe((status) => {\r\n            if (status === 'VALID') {\r\n              this.emailIM = '';\r\n              this.emailMT = '';\r\n              this.validEmail.unsubscribe();\r\n            }\r\n          });\r\n          this.authService.checkEmailInfo.next({ email: '', isVaild: false });\r\n        } else {\r\n          this.authService.checkEmailInfo.next({ email: '', isVaild: true });\r\n          if (!res['isOtpLogin']) {\r\n            this.templateActiveSection = this.template.PASSWORD;\r\n          } else {\r\n            this.templateActiveSection = this.template.OTP;\r\n            this.callSendOtpApi(this.emailControl.value);\r\n          }\r\n        }\r\n        this.emailButtonLabel = 'Continue with email';\r\n        this.isEmailButtonDisabled = false;\r\n      },\r\n      error: (err) => {\r\n        this.authService.checkEmailInfo.next({ email: '', isVaild: false });\r\n        console.log(err);\r\n        this.emailButtonLabel = 'Continue with email';\r\n        this.isEmailButtonDisabled = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  callSendOtpApi(email: string) {\r\n    // https://dev-api.heatfleet.com/api/Authenticate/send-otp?api-version=\r\n    const sendOtpApiUrl = `${this.authService.apiUrl}Authenticate/send-otp?api-version=${this.authService.apiVersion}`;\r\n    let payload = {\r\n      \"Email\": email\r\n    }\r\n    this.sendOtpApiSubscription = this.http.post(sendOtpApiUrl, payload).subscribe({\r\n      next: () => {\r\n        this.toastService.toastMessage.next({ title: 'Success', msg: 'OTP sent successfully', type: 'success' });\r\n      },\r\n      error: (err) => {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.emailValidationApiSubscription) {\r\n      this.emailValidationApiSubscription.unsubscribe();\r\n    }\r\n    if (this.loginApiSubscription) {\r\n      this.loginApiSubscription.unsubscribe();\r\n    }\r\n    if (this.sendOtpApiSubscription) {\r\n      this.sendOtpApiSubscription.unsubscribe();\r\n    }\r\n    if (this.emailInfo) {\r\n      this.emailInfo.unsubscribe();\r\n    }\r\n    if (this.validEmail) {\r\n      this.validEmail.unsubscribe();\r\n    }\r\n  }\r\n}\r\n","@if(!modelAuth){\r\n<div class=\"login-container\">\r\n    <hf-card>\r\n        <h2 class=\"hf-heading-3 hf-dark-font\" style=\"margin-bottom: 20px;\">Sign In</h2>\r\n        <ng-template [ngTemplateOutlet]=\"loginTemplate\"></ng-template>\r\n    </hf-card>\r\n</div>\r\n} @else {\r\n<ng-template [ngTemplateOutlet]=\"loginTemplate\"></ng-template>\r\n}\r\n\r\n\r\n<ng-template #loginTemplate>\r\n    @if (templateActiveSection === template.EMAIL) {\r\n    <div class=\"template1\">\r\n        <hf-input inputType=\"email\" [inputValue]=\"emailControl\" inputLabel=\"E-mail Address\"\r\n            inputPlaceholder=\"Enter Email Here\" [descriptionType]=\"emailMT\" [inputDescription]=\"emailIM\"\r\n            (keyup.enter)=\"isEmailValid()\"></hf-input>\r\n        <input hidden type=\"password\">\r\n        <hf-button [labelText]=\"emailButtonLabel\" buttonSize=\"large\" (click)=\"isEmailValid()\"\r\n            [isDisabled]=\"isEmailButtonDisabled\"></hf-button>\r\n    </div>\r\n    }\r\n    @if (templateActiveSection === template.PASSWORD) {\r\n    <div class=\"template2\">\r\n        <div class=\"instructions\">\r\n            <p>Enter your password for </p>\r\n            <p>{{emailControl.value}}</p>\r\n        </div>\r\n        <input hidden type=\"email\">\r\n        <hf-input inputType=\"password\" [inputValue]=\"passwordControl\" inputLabel=\"Password\"\r\n            inputPlaceholder=\"Enter Password Here\" [isPassword]=\"true\" [descriptionType]=\"passwordMT\"\r\n            [inputDescription]=\"passwordIM\" (keyup.enter)=\"isPasswordValid()\"></hf-input>\r\n        <hf-button [labelText]=\"loginButtonLabel\" [isDisabled]=\"isLoginButtonDisabled\" buttonSize=\"large\"\r\n            (click)=\"isPasswordValid()\"></hf-button>\r\n        <p class=\"text-align-center\">OR</p>\r\n        <hf-button buttonStyle=\"secondary\" labelText=\"E-MAIL ME A CODE\" buttonSize=\"large\"\r\n            (click)=\"templateActiveSection = template.OTP; callSendOtpApi(emailControl.value)\">\r\n        </hf-button>\r\n    </div>\r\n    }\r\n    @if (templateActiveSection === template.OTP) {\r\n    <div class=\"template3\">\r\n        <div class=\"instructions\">\r\n            <p>We just emailed a OTP code to</p>\r\n            <p>{{authService.userEmail}} It will be valid for 10 minutes.</p>\r\n        </div>\r\n        <div class=\"otp-action\">\r\n            <hf-input inputType=\"number\" [inputValue]=\"otpControl\" inputLabel=\"OTP Code\"\r\n                inputPlaceholder=\"Enter OTP Code Here\" [descriptionType]=\"otpMT\" [inputDescription]=\"otpIM\"\r\n                (keyup.enter)=\"isOtpValid()\"></hf-input>\r\n            <hf-button buttonSize=\"large\" [labelText]=\"otpButtonLabel\" [isDisabled]=\"isOtpButtonDisabled\"\r\n                (click)=\"isOtpValid()\"></hf-button>\r\n        </div>\r\n        <p class=\"text-align-center\" style=\"cursor: pointer;\" (click)=\"callSendOtpApi(emailControl.value)\">Resend\r\n            Code</p>\r\n        <hf-button buttonStyle=\"secondary\" labelText=\"BACK TO SIGN-IN\" buttonSize=\"large\"\r\n            (click)=\"templateActiveSection = template.EMAIL\"></hf-button>\r\n    </div>\r\n    }\r\n</ng-template>","export * from './auth/auth.component';\r\n"],"names":["HttpClient","FormControl","Validators","HfButtonComponent","HfCardComponent","HfInputComponent","HfToastService","AuthService","maxLengthRestriction","noWhitespaceValidator","CommonModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","AuthComponent_Conditional_0_ng_template_4_Template","ɵɵadvance","ɵɵproperty","loginTemplate_r1","AuthComponent_Conditional_1_ng_template_0_Template","ɵɵlistener","AuthComponent_ng_template_2_Conditional_0_Template_hf_input_keyup_enter_1_listener","ɵɵrestoreView","_r2","ctx_r2","ɵɵnextContext","ɵɵresetView","isEmailValid","ɵɵelement","AuthComponent_ng_template_2_Conditional_0_Template_hf_button_click_3_listener","emailControl","emailMT","emailIM","emailButtonLabel","isEmailButtonDisabled","AuthComponent_ng_template_2_Conditional_1_Template_hf_input_keyup_enter_7_listener","_r4","isPasswordValid","AuthComponent_ng_template_2_Conditional_1_Template_hf_button_click_8_listener","AuthComponent_ng_template_2_Conditional_1_Template_hf_button_click_11_listener","templateActiveSection","template","OTP","callSendOtpApi","value","ɵɵtextInterpolate","passwordControl","passwordMT","passwordIM","loginButtonLabel","isLoginButtonDisabled","AuthComponent_ng_template_2_Conditional_2_Template_hf_input_keyup_enter_7_listener","_r5","isOtpValid","AuthComponent_ng_template_2_Conditional_2_Template_hf_button_click_8_listener","AuthComponent_ng_template_2_Conditional_2_Template_p_click_9_listener","AuthComponent_ng_template_2_Conditional_2_Template_hf_button_click_11_listener","EMAIL","ɵɵtextInterpolate1","authService","userEmail","otpControl","otpMT","otpIM","otpButtonLabel","isOtpButtonDisabled","AuthComponent_ng_template_2_Conditional_0_Template","AuthComponent_ng_template_2_Conditional_1_Template","AuthComponent_ng_template_2_Conditional_2_Template","ɵɵconditional","PASSWORD","Template","AuthComponent","constructor","http","toastService","modelAuth","required","pattern","emailKey","ngOnInit","isSetAuthCalled","console","error","checkEmailInfo","emailInfo","checkEmailInfo$","subscribe","res","email","setValue","invalid","errors","validEmail","statusChanges","status","unsubscribe","callEmailValidationApi","validPassword","callloginApi","validOtp","mode","loginApiUrl","apiUrl","apiVersion","body","getEncryptedValue","loginApiSubscription","post","next","isLoginDone","loginResponse","err","log","emailValidationApiUrl","payload","emailValidationApiSubscription","isVaild","sendOtpApiUrl","sendOtpApiSubscription","toastMessage","title","msg","type","ngOnDestroy","_","ɵɵdirectiveInject","i1","i2","i3","_2","selectors","inputs","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","AuthComponent_Template","rf","ctx","AuthComponent_Conditional_0_Template","AuthComponent_Conditional_1_Template","AuthComponent_ng_template_2_Template","ɵɵtemplateRefExtractor","i4","NgTemplateOutlet","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}